<!doctype html>
<html lang="ko" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Windows 10에서 Ollama · Llama 3.1 내부 임베딩 구축 가이드</title>
  <meta name="description" content="Windows 10 환경에서 Ollama와 Llama 3.1을 활용해 내부 임베딩·RAG 파이프라인을 구축하는 단계별 기술 가이드" />
  <meta name="google-site-verification" content="google9c3f444d05c1610b" />

  <script src="bg-stars.js" defer></script>
  <script>
    // Early theme boot to avoid FOUC
    try {
      const saved = localStorage.getItem('theme');
      const pref = window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', saved || pref);
    } catch(e) {}
  </script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- GSAP for animations -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js" defer></script>

  <style>
    :root {
      --bg: #0b1020;
      --fg: #e7ecff;
      --fg-soft: #c6cdeb;
      --muted: #8b93a7;
      --accent: #58c4ff;
      --accent-2: #7cffb2;
      --fs-body: clamp(0.98rem, 0.92rem + 0.55vw, 1.05rem);
      --fs-small: clamp(0.82rem, 0.78rem + 0.3vw, 0.94rem);
      --fs-lead: clamp(1.05rem, 0.95rem + 1vw, 1.25rem);
      --fs-h1: clamp(2.2rem, 1.6rem + 3.1vw, 3.5rem);
      --fs-h2: clamp(1.65rem, 1.4rem + 1.6vw, 2.35rem);
      --fs-h3: clamp(1.3rem, 1.15rem + 0.9vw, 1.8rem);
    }
    :root[data-theme="light"] {
      --bg: #f7f9ff;
      --fg: #0b1020;
      --fg-soft: #293042;
      --muted: #4c5368;
      --accent: #3e86ff;
      --accent-2: #47e5a1;
    }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif;
      background: var(--bg);
      color: var(--fg);
      font-size: var(--fs-body);
      line-height: 1.72;
      letter-spacing: 0.01em;
      overflow-x: hidden;
    }
    p { margin-bottom: 0.85em; }
    p.lead { font-size: var(--fs-lead); }
    small, .text-sm { font-size: var(--fs-small); }
    h1, h2, h3, h4 { font-weight: 800; line-height: 1.2; margin-bottom: 0.6em; }
    h1 { font-size: var(--fs-h1); }
    h2 { font-size: var(--fs-h2); }
    h3 { font-size: var(--fs-h3); }
    header h1[class*="text-"] { font-size: var(--fs-h1); letter-spacing: -0.01em; }
    header h1 span.text-2xl { font-size: clamp(1.25rem, 1.1rem + 1vw, 1.85rem); }
    header h1 span.text-3xl { font-size: clamp(1.45rem, 1.2rem + 1.2vw, 2.1rem); }
    .type-cycle { font-size: var(--fs-small); line-height: 1.6; }
    .container-max { max-width: 1100px; }
    .text-muted { color: var(--muted); }
    .text-fg { color: var(--fg); }
    .text-soft { color: var(--fg-soft); }

    nav.topbar { position: sticky; top: 0; z-index: 40; backdrop-filter: blur(8px); }
    nav.topbar .bar {
      border: 1px solid rgba(255,255,255,.08);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
    }
    :root[data-theme="light"] nav.topbar .bar {
      border: 1px solid rgba(0,0,0,.06);
      background: linear-gradient(180deg, rgba(0,0,0,.03), rgba(0,0,0,.01));
    }

    #bg-stars { position: fixed; inset: 0; width: 100vw; height: 100vh; z-index: 0; pointer-events: none; }
    header, main, footer, nav { position: relative; z-index: 1; }

    .cursor { position: fixed; inset: 0 auto auto 0; transform: translate(-50%, -50%); width: 18px; height: 18px; border-radius: 9999px; background: radial-gradient(circle at 30% 30%, var(--accent), var(--accent-2)); mix-blend-mode: screen; pointer-events: none; z-index: 50; opacity: .8; transition: width .2s ease, height .2s ease, opacity .2s ease; }
    .cursor.-lg { width: 42px; height: 42px; opacity: .55; }
    @media (prefers-reduced-motion: reduce) { .cursor { display: none; } }

    /* 모바일 최적화 */
    @media (max-width: 767px) {
      html { font-size: 16px; } /* iOS Safari에서 줌 방지 */
      body { padding: 0 1rem; letter-spacing: 0; }
      .container-max { max-width: 100%; }
      .container-max.mx-auto { padding-left: 0.5rem; padding-right: 0.5rem; }

      /* 헤더 크기 조정 */
      header { padding: 1.25rem 0 2.25rem; }
      header h1 { font-size: clamp(2.1rem, 1.9rem + 1.5vw, 2.8rem); line-height: 1.18; }

      /* 내비게이션 최적화 */
      .topbar { display: none; } /* 모바일에서는 간소화 */

      /* 섹션 패딩 조정 */
      section { padding: 2.25rem 0; }
      section h2 { margin-bottom: 1.25rem; }
      section p { line-height: 1.7; }

      /* 버튼 크기 확대 */
      a.rounded-full { padding: 0.85rem 1.6rem; font-size: 1.02rem; min-height: 46px; display: flex; align-items: center; justify-content: center; }

      /* 글래스 패널 조정 */
      .glass { padding: 1.4rem 1.1rem; border-radius: 1.4rem; backdrop-filter: blur(18px); }
      .glass h2 { font-size: clamp(1.45rem, 1.3rem + 0.8vw, 1.7rem); }
      .glass p { font-size: clamp(0.95rem, 0.92rem + 0.3vw, 1.05rem); }

      /* 코드 블록 조정 */
      pre { font-size: clamp(0.82rem, 0.78rem + 0.3vw, 0.9rem); padding: 1rem; border-radius: 1rem; }

      /* 그리드 조정 */
      .grid.md\:grid-cols-2 { grid-template-columns: 1fr; gap: 1.5rem; }
      .grid.md\:grid-cols-3 { grid-template-columns: 1fr; gap: 1.5rem; }
      .grid.lg\:grid-cols-2 { grid-template-columns: 1fr; gap: 1.5rem; }
      .grid.lg\:grid-cols-[1.1fr,0.9fr] { grid-template-columns: 1fr; }

      /* 리스트 항목 간격 조정 */
      ol.space-y-6 > li, ul.space-y-3 > li { margin-bottom: 1.4rem; }

      /* 이미지 반응형 */
      img { max-width: 100%; height: auto; }

      /* 터치 쇠사례 버튼 */
      button, input, select, textarea { min-height: 46px; padding: 0.75rem; }

      /* 스크롤 팁 */
      .policy-content { max-height: 300px; }

      /* 백그라운드 스타 효과 감소 (성능) */
      #bg-stars { opacity: 0.5; }
    }

    /* 중간 크기 장치 */
    @media (min-width: 768px) and (max-width: 1023px) {
      .container-max { padding: 0 1.5rem; }
      header h1 { font-size: clamp(2.45rem, 2rem + 1vw, 3rem); }
      section { padding: 2.8rem 0; }
    }

    @media (min-width: 1024px) {
      .container-max { padding: 0 2rem; }
      section { padding: 3.5rem 0; }
      main p { max-width: 70ch; }
    }

    .brand .logo { filter: drop-shadow(0 4px 12px rgba(88,196,255,.35)); }
    .brand > span { display: none; }
    .brand svg[viewBox="0 0 64 64"] { display: none; }
    :root[data-theme="light"] .brand .logo { filter: drop-shadow(0 0 1px rgba(0,0,0,.35)) drop-shadow(0 0 8px rgba(0,0,0,.12)); }

    .hero-gradient { background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0)); border: 1px solid rgba(255,255,255,.08); backdrop-filter: blur(8px); }
    :root[data-theme="light"] .hero-gradient { background: linear-gradient(180deg, rgba(0,0,0,.03), rgba(0,0,0,0)); border: 1px solid rgba(0,0,0,.06); }
    .type-cycle > .active { color: var(--accent); }

    .glass { background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border: 1px solid rgba(255,255,255,.08); box-shadow: 0 20px 50px rgba(0,0,0,.35); }
    :root[data-theme="light"] .glass { background: linear-gradient(180deg, rgba(0,0,0,.03), rgba(0,0,0,.01)); border: 1px solid rgba(0,0,0,.06); box-shadow: 0 10px 30px rgba(0,0,0,.08); }
    .tilt-card { transform-style: preserve-3d; will-change: transform; }
    .tilt-card .shine { position: absolute; inset: 0; border-radius: 1rem; pointer-events: none; background: radial-gradient(500px 200px at var(--mx,50%) var(--my,50%), rgba(255,255,255,.18), transparent 60%); opacity: 0; transition: opacity .25s ease; }
    .tilt-card:hover .shine { opacity: 1; }

    .progress { position: fixed; top: 0; left: 0; height: 3px; width: 0; background: linear-gradient(90deg, var(--accent), var(--accent-2)); z-index: 60; }

    .policy-content { max-height: 400px; overflow-y: auto; }

    .magnetic { will-change: transform; display: inline-flex; align-items: center; gap: .6rem; }

    #themeToggle.active { color: var(--accent); border-color: color-mix(in oklab, var(--accent) 40%, transparent); }
  </style>
</head>
<body class="antialiased leading-relaxed">
  <canvas id="bg-stars" aria-hidden="true"></canvas>
  <div class="progress" aria-hidden="true"></div>
  <div class="cursor" aria-hidden="true"></div>

  <nav class="topbar">
    <div class="container-max mx-auto px-6 pt-4">
      <div class="bar rounded-2xl px-5 py-3 flex items-center justify-between">
        <a href="#top" class="brand inline-flex items-center gap-3" aria-label="Ollama · Llama 3.1 가이드 홈">
          <svg class="wordmark h-7 sm:h-8" viewBox="0 0 260 40" fill="none" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Ollama Llama Guide">
            <title>Ollama Llama Guide</title>
            <defs>
              <linearGradient id="brandGrad" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="var(--accent)"/>
                <stop offset="100%" stop-color="var(--accent-2)"/>
              </linearGradient>
              <filter id="softGlow" x="-20%" y="-50%" width="140%" height="200%" color-interpolation-filters="sRGB">
                <feGaussianBlur stdDeviation="1.2" result="blur"/>
                <feMerge>
                  <feMergeNode in="blur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>
            <text x="16" y="27" font-size="22" font-weight="800" font-family="'Noto Sans KR','Malgun Gothic','Inter',system-ui,sans-serif" fill="url(#brandGrad)" filter="url(#softGlow)">Ollama · Llama 가이드</text>
          </svg>
          <svg width="36" height="36" viewBox="0 0 64 64" role="img" aria-hidden="true">
            <title>Guide Logo</title>
            <defs>
              <linearGradient id="gOO" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" style="stop-color: var(--accent)"/>
                <stop offset="100%" style="stop-color: var(--accent-2)"/>
              </linearGradient>
            </defs>
            <circle cx="24" cy="32" r="14" fill="none" stroke="url(#gOO)" stroke-width="4" opacity="0.95" />
            <circle cx="40" cy="32" r="14" fill="none" stroke="url(#gOO)" stroke-width="4" opacity="0.6" />
            <ellipse cx="32" cy="28" rx="26" ry="12" fill="none" stroke="url(#gOO)" stroke-width="1.6" opacity="0.55" />
            <circle cx="46" cy="22" r="2.5" fill="url(#gOO)" />
          </svg>
          <span class="hidden sm:inline text-sm font-semibold text-soft">Windows 10 내부 임베딩 구축</span>
        </a>
        <div class="hidden lg:flex items-center gap-2 text-muted text-sm font-medium">
          <a href="#overview" class="rounded-full px-4 py-2 border border-white/20 hover:bg-white/5 transition">개요</a>
          <a href="#setup" class="rounded-full px-4 py-2 border border-white/20 hover:bg-white/5 transition">Ollama 설치</a>
          <a href="#llama" class="rounded-full px-4 py-2 border border-white/20 hover:bg-white/5 transition">Llama 3.1</a>
          <a href="#pipeline" class="rounded-full px-4 py-2 border border-white/20 hover:bg-white/5 transition">임베딩 파이프라인</a>
          <a href="#optimization" class="rounded-full px-4 py-2 border border-white/20 hover:bg-white/5 transition">최적화</a>
          <a href="#troubleshooting" class="rounded-full px-4 py-2 border border-white/20 hover:bg-white/5 transition">문제 해결</a>
          <a href="#cases" class="rounded-full px-4 py-2 border border-white/20 hover:bg-white/5 transition">적용 사례</a>
        </div>
        <div class="flex items-center gap-2">
          <button id="themeToggle" class="rounded-full px-3.5 py-2 text-sm font-semibold border border-white/20 hover:bg-white/5 transition text-muted" aria-label="별 수 증가 토글" title="별 밀도 1.5배 토글">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3l1.6 3.8L17 8.5l-3.4 1.7L12 14l-1.6-3.8L7 8.5l3.4-1.7L12 3Z" fill="currentColor"/>
              <path d="M5 16l.9 2.2L8 19l-2.1 1L5 22l-.9-2L2 19l2.1-.8L5 16Z" fill="currentColor" opacity=".7"/>
              <path d="M19 15l1.2 2.7L23 19l-2.8 1.3L19 23l-1.2-2.7L15 19l2.8-1.3L19 15Z" fill="currentColor" opacity=".7"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <header id="top" class="relative">
    <div class="container-max mx-auto px-6 pt-12 pb-8 sm:pt-20 sm:pb-14 lg:pt-24">
      <div class="hero-gradient rounded-3xl p-8 sm:p-12 lg:p-16">
        <div class="flex flex-col items-center text-center gap-6">
          <span class="inline-flex items-center gap-2 text-sm text-muted">
            Windows 10 · 내부 데이터 프라이버시 · RAG 파이프라인
          </span>
          <h1 class="text-4xl sm:text-6xl font-extrabold tracking-tight">
            <span class="block">Windows 10에서 Ollama &amp; Llama 3.1</span>
            <span class="block text-2xl sm:text-3xl mt-2 text-soft">내부 임베딩 구축 기술 가이드</span>
          </h1>
          <p class="type-cycle text-base sm:text-lg text-muted">
            <span class="cycle-item active">설치 → 임베딩 생성 → 벡터 DB → RAG 운영</span>
            <span class="cycle-item hidden">프라이버시 중심 로컬 환경</span>
            <span class="cycle-item hidden">GPU·WSL2 최적화 전략</span>
            <span class="cycle-item hidden">실제 사례와 문제 해결 노하우</span>
            <span class="cycle-item hidden">소스코드를 위한 Tree-Sitter 기반 청킹 </span>
          </p>
          <div class="flex flex-wrap items-center justify-center gap-3 sm:gap-4 mt-2">
            <a href="#pipeline" class="magnetic rounded-full px-5 py-3 text-sm font-semibold text-black bg-white hover:opacity-90 transition">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" class="opacity-80"><path d="M4 8l8 5 8-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              파이프라인 바로 보기
            </a>
            <a href="mailto:younseok.oh@gmail.com" class="rounded-full px-5 py-3 text-sm font-semibold border border-white/20 hover:bg-white/5 transition text-fg">전문가 상담 문의</a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section id="overview" class="container-max mx-auto px-6 py-10 sm:py-14 lg:py-16">
      <div class="glass rounded-2xl p-6 sm:p-10 tilt-card relative">
        <div class="shine" aria-hidden="true"></div>
        <h2 class="text-2xl sm:text-3xl font-bold mb-4">프로젝트 개요</h2>
        <p class="text-soft leading-7">
          Windows 10(WSL2 권장) 환경에서 Ollama를 통해 Llama 3.1을 로컬에 배포하고, 사내 문서(또는 Tree-Sitter 기반)를 임베딩하여 벡터 DB와 결합하는 전 과정을 다룹니다. 준비 단계에서 운영 체제 버전과 가상화, GPU/CPU, 디스크 여유 공간을 확인하고, 설치 이후에는 Ollama와 Llama 3.1을 통한 모델 실행·관리, 임베딩 파이프라인 구성, 성능 최적화 및 트러블슈팅, 실제 적용 사례까지 한 번에 파악할 수 있습니다. 만약 일반 문서나 소스가 아닌 로그기반의 청킹이라면 다른 전략으로 구축해야 하므로 전문가 조언이 필요합니다. 
        </p>
        <p class="text-soft leading-7 mt-4">
          목표는 로컬 환경에서 데이터 프라이버시를 보장하면서도 고성능 검색·질의응답(RAG) 경험을 제공하는 것입니다. 단계별 체크리스트와 실행 가능한 명령어, 하드웨어·소프트웨어 최적화 포인트를 함께 제공하여 실무에 즉시 적용할 수 있도록 구성했습니다.
        </p>
      </div>
    </section>

    <section id="toc" class="container-max mx-auto px-6 py-6 sm:py-10 lg:py-12">
      <div class="glass rounded-2xl p-6 sm:p-10">
        <div class="text-sm uppercase tracking-[0.35em] text-muted mb-4">로드맵</div>
        <h2 class="text-2xl sm:text-3xl font-bold mb-6">구축 여정 한눈에 보기</h2>
        <div class="grid md:grid-cols-2 gap-6 text-soft">
          <ul class="space-y-3 list-none pl-0">
            <li class="flex gap-3"><span class="text-accent text-xl">✓</span><span>Ollama 설치 및 설정 — Windows 10에서의 데몬 설치, WSL2 대안, 권한·환경 변수 체크리스트</span></li>
            <li class="flex gap-3"><span class="text-accent text-xl">✓</span><span>Llama 3.1 설치 및 설정 — 모델 다운로드와 로컬 배포, 하드웨어 요구사항, 양자화 옵션 가이드</span></li>
            <li class="flex gap-3"><span class="text-accent text-xl">✓</span><span>내부 임베딩 구축 — 문서 전처리, 배치 임베딩 생성, 품질 검증 절차</span></li>
          </ul>
          <ul class="space-y-3 list-none pl-0">
            <li class="flex gap-3"><span class="text-accent text-xl">✓</span><span>환경 결합과 최적화 — GPU 활용, CPU 최적화, 양자화·캐싱·인덱스 튜닝 팁</span></li>
            <li class="flex gap-3"><span class="text-accent text-xl">✓</span><span>문제 해결 및 주의사항 — 권한 오류, 메모리 부족, 버전 호환성 이슈 대응</span></li>
            <li class="flex gap-3"><span class="text-accent text-xl">✓</span><span>실제 적용 사례 — PoC 구성, 성능 지표, 확장 전략</span></li>
          </ul>
        </div>
      </div>
    </section>

    <section id="setup" class="container-max mx-auto px-6 py-10 sm:py-14 lg:py-16">
      <div class="grid lg:grid-cols-[1.1fr,0.9fr] gap-10 items-start">
        <article class="glass rounded-2xl p-6 sm:p-10 tilt-card relative">
          <div class="shine" aria-hidden="true"></div>
          <p class="text-sm uppercase tracking-[0.35em] text-muted mb-4">섹션 2</p>
          <h2 class="text-2xl sm:text-3xl font-bold mb-6">Ollama 설치 및 환경 준비</h2>
          <ol class="space-y-6 text-soft">
            <li>
              <h3 class="text-lg font-semibold text-fg mb-2">설치 전 필수 점검</h3>
              <p>Windows 10 버전(권장 22H2 이상)과 가상화(VT-x/AMD-V) 활성화 여부를 확인하고, 모델 저장을 위한 충분한 디스크 여유 공간을 확보합니다. Ollama 설치 파일은 공식 사이트에서 Windows용 최신 릴리스를 내려받습니다.</p>
            </li>
            <li>
              <h3 class="text-lg font-semibold text-fg mb-2">설치 경로 선택 — 네이티브 vs WSL2</h3>
              <p>네이티브 설치는 <code>OllamaSetup.exe</code> 실행으로 간단히 완료됩니다. WSL2를 권장하며, <code>PowerShell(관리자)</code>에서 <code>wsl --install</code>로 WSL2를 활성화한 뒤 Ubuntu 환경에서 Linux 설치 가이드를 따라가면 GPU·라이브러리 호환성이 안정적입니다.</p>
            </li>
            <li>
              <h3 class="text-lg font-semibold text-fg mb-2">설치 후 동작 확인</h3>
              <p><code>ollama</code> 명령 실행 여부를 점검하고, <code>open-webui serve</code>로 로컬 UI를 기동해 정상 동작을 확인합니다. 모델 다운로드나 서비스 실행 중에는 디스크 사용량과 GPU 드라이버(CUDA) 호환성을 수시로 확인합니다. 요약: 설치 전 환경 체크 → WSL2 권장 → <code>open-webui serve</code>로 서비스 검증.</p>
            </li>
          </ol>
        </article>
        <aside class="glass rounded-2xl p-6 sm:p-8 space-y-5">
          <h3 class="text-xl font-semibold text-fg">빠른 체크리스트</h3>
          <ul class="space-y-3 text-soft text-sm">
            <li class="flex items-start gap-3"><span class="mt-1 text-accent">■</span><span>Windows 업데이트로 22H2 이상 유지</span></li>
            <li class="flex items-start gap-3"><span class="mt-1 text-accent">■</span><span>BIOS/Hyper-V에서 가상화 활성화</span></li>
            <li class="flex items-start gap-3"><span class="mt-1 text-accent">■</span><span>GPU 드라이버·CUDA 버전 호환성 사전 확인</span></li>
            <li class="flex items-start gap-3"><span class="mt-1 text-accent">■</span><span>모델 저장용 디스크 여유(8B 기준 4~5GB 이상)</span></li>
          </ul>
        </aside>
      </div>
    </section>

    <section id="llama" class="container-max mx-auto px-6 py-10 sm:py-14 lg:py-16">
      <div class="glass rounded-2xl p-6 sm:p-10 tilt-card relative">
        <div class="shine" aria-hidden="true"></div>
        <p class="text-sm uppercase tracking-[0.35em] text-muted mb-4">섹션 3</p>
        <h2 class="text-2xl sm:text-3xl font-bold mb-6">Llama 3.1 설치 및 초기 설정</h2>
        <div class="grid md:grid-cols-3 gap-8 text-soft">
          <div>
            <h3 class="text-lg font-semibold text-fg mb-2">1. 준비 및 필수 파일</h3>
            <p>관리자 권한 PowerShell/CMD 또는 WSL2 터미널을 사용합니다. 필요한 항목은 Ollama 설치 프로그램, (GPU 사용 시) NVIDIA 드라이버와 CUDA Toolkit, 충분한 디스크와 16GB 이상 RAM입니다. 모델 파일은 Ollama가 자동으로 내려받습니다.</p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-fg mb-2">2. 모델 다운로드</h3>
            <p><code>ollama-installer.exe</code>를 실행한 뒤 <code>ollama run llama3.1:8b</code>로 모델을 내려받고 즉시 실행합니다. <code>ollama list</code>로 설치된 모델을 확인하고, 다운로드 실패 시 네트워크와 디스크 여유를 점검하거나 WSL 환경에서 재시도합니다.</p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-fg mb-2">3. 운영 권장사항</h3>
            <p>PoC에는 8B 모델이 적합하며, 대형 모델은 더 많은 RAM/GPU 자원을 요구합니다. NVIDIA 드라이버·CUDA 버전을 일치시키고, 관리자 권한으로 명령을 실행합니다. <code>ollama list</code>와 로그를 확인해 오류를 빠르게 파악합니다.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="pipeline" class="container-max mx-auto px-6 py-10 sm:py-14 lg:py-16">
      <div class="glass rounded-2xl p-6 sm:p-10">
        <div class="text-sm uppercase tracking-[0.35em] text-muted mb-4">섹션 4</div>
        <h2 class="text-2xl sm:text-3xl font-bold mb-6">내부 임베딩 파이프라인</h2>
        <div class="grid lg:grid-cols-2 gap-8">
          <div class="space-y-5 text-soft leading-7">
            <p><strong class="text-fg">전체 워크플로우</strong> — ① 문서 수집 및 전처리: PDF/Word/로그 등에서 텍스트를 추출하고 500~1000 토큰 단위로 청크화하며 메타데이터(문서 ID, 청크 ID, 출처, 타임스탬프)를 부여합니다. ② 임베딩 생성: Ollama 로컬 API 또는 전용 임베딩 모델을 호출해 텍스트 청크를 고정 길이 벡터로 변환합니다. ③ 벡터 DB 저장 및 인덱싱: Milvus/FAISS에 (벡터, 메타데이터) 형태로 저장하고 IVF, PQ, HNSW 등 인덱스를 구성·튜닝합니다. ④ 검색: 쿼리 임베딩을 생성해 k-NN 유사도 검색으로 관련 청크를 조회합니다. ⑤ RAG 결합: 검색 결과 청크를 컨텍스트로 Llama 3.1에 제공해 최종 응답을 생성합니다.</p>
            <p><strong class="text-fg">운영 팁</strong> — 배치 처리로 호출 오버헤드를 줄이고, Redis 등으로 임베딩 캐시(키는 텍스트의 SHA-256)를 적용해 중복 계산을 방지합니다. 문서 변경 시 전체 재처리 대신 변경 청크만 재임베딩하고, 인덱스 파라미터(예: HNSW의 <code>ef</code>, <code>M</code>)와 검색 <code>k</code> 값을 조정해 정확도와 성능의 균형을 맞춥니다. 임베딩 버전을 태깅하고 재인덱싱 로그를 남겨 이력 관리에 활용합니다.</p>
          </div>
          <div class="glass rounded-2xl p-6 space-y-5">
            <h3 class="text-xl font-semibold text-fg">샘플 명령 &amp; 코드</h3>
            <div class="space-y-3 text-sm text-soft">
              <div>
                <div class="font-semibold text-fg mb-1">Ollama API 호출</div>
                <pre class="bg-black/30 rounded-xl p-4 overflow-x-auto"><code>curl -X POST http://localhost:11434/embed \
  -H "Content-Type: application/json" \
  -d '{"model":"llama3.1","text":"문서 청크 본문"}'</code></pre>
              </div>
              <div>
                <div class="font-semibold text-fg mb-1">Python 요청 예시</div>
                <pre class="bg-black/30 rounded-xl p-4 overflow-x-auto"><code>import requests
resp = requests.post(
    "http://localhost:11434/embed",
    json={"model": "llama3.1", "text": chunk_text}
)
embedding = resp.json()["embedding"]</code></pre>
              </div>
              <div>
                <div class="font-semibold text-fg mb-1">벡터 DB 적재 &amp; 검색</div>
                <pre class="bg-black/30 rounded-xl p-4 overflow-x-auto"><code>index.insert([(id1, emb1, meta1), (id2, emb2, meta2)])
results = index.search(query_emb, k=5)
answer = llama.generate(prompt_with(results))</code></pre>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="optimization" class="container-max mx-auto px-6 py-10 sm:py-14 lg:py-16">
      <div class="glass rounded-2xl p-6 sm:p-10">
        <div class="text-sm uppercase tracking-[0.35em] text-muted mb-4">섹션 5</div>
        <h2 class="text-2xl sm:text-3xl font-bold mb-8">성능 최적화 &amp; 운영 전략</h2>
        <div class="grid lg:grid-cols-2 gap-8 text-soft leading-7">
          <div class="space-y-5">
            <p><strong class="text-fg">하드웨어 진단</strong> — NVIDIA GPU와 일치하는 드라이버·CUDA가 핵심입니다. 배포 전 <code>nvidia-smi</code>로 GPU 상태와 메모리를 점검하고, 다중 GPU 환경에서는 NCCL 설정과 네트워크 토폴로지를 확인합니다.</p>
            <p><strong class="text-fg">메모리 절감</strong> — 8bit/4bit 양자화로 메모리 요구량을 낮추되, 대표 데이터셋으로 정확도 변화를 사전 검증합니다. 필요 시 지식 증류, 프루닝, 더 작은 Llama 계열 모델이나 LoRA 등을 조합합니다.</p>
          </div>
          <div class="space-y-5">
            <p><strong class="text-fg">대형 모델 운영</strong> — 텐서/파이프라인 병렬화 또는 모델 샤딩으로 확장하며, NVLink 또는 동일 PCIe 루트의 GPU를 우선 사용합니다. 통신-연산 중첩과 적절한 배치·마이크로배치 설정으로 처리량을 개선합니다.</p>
            <p><strong class="text-fg">소프트웨어 튜닝</strong> — Redis 캐시로 반복 쿼리 비용을 줄이고, HNSW의 <code>efConstruction</code>·<code>efSearch</code>를 조절해 정밀도와 속도를 조율합니다. 추론 요청은 배치화하고, FP16 혼합 정밀도와 pinned memory로 메모리 대역폭을 최적화합니다.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="troubleshooting" class="container-max mx-auto px-6 py-10 sm:py-14 lg:py-16">
      <div class="glass rounded-2xl p-6 sm:p-10">
        <div class="text-sm uppercase tracking-[0.35em] text-muted mb-4">섹션 6</div>
        <h2 class="text-2xl sm:text-3xl font-bold mb-8">문제 해결 및 주의사항</h2>
        <div class="grid md:grid-cols-3 gap-6">
          <article class="glass rounded-2xl p-6 text-center space-y-3">
            <div class="text-3xl" aria-hidden="true">🪟</div>
            <h3 class="text-lg font-semibold text-fg">사전 점검 미흡</h3>
            <p class="text-sm text-soft">Windows 버전이 낮거나 가상화가 비활성화되면 설치가 중단되고, 메모리·디스크 부족으로 모델 다운로드가 실패합니다. Windows 22H2 이상, BIOS/Hyper-V 가상화 활성화, 디스크 정리를 우선 수행하세요.</p>
          </article>
          <article class="glass rounded-2xl p-6 text-center space-y-3">
            <div class="text-3xl" aria-hidden="true">🧰</div>
            <h3 class="text-lg font-semibold text-fg">GPU·라이브러리 불일치</h3>
            <p class="text-sm text-soft">NVIDIA 드라이버와 CUDA 버전 불일치, <code>transformers</code> 패키지 구버전, 네트워크 끊김 등이 실행 오류를 유발합니다. <code>nvidia-smi</code>로 상태를 점검하고, CUDA·cuDNN·패키지를 최신으로 유지한 뒤 안정적인 네트워크 환경에서 재시도하세요.</p>
          </article>
          <article class="glass rounded-2xl p-6 text-center space-y-3">
            <div class="text-3xl" aria-hidden="true">⚠️</div>
            <h3 class="text-lg font-semibold text-fg">권한·운영 리스크</h3>
            <p class="text-sm text-soft">관리자 권한 부족, 모델 대비 시스템 자원 부족은 서비스 실패와 성능 저하를 유발합니다. 모든 설치·서비스 기동은 관리자 권한으로 수행하고, 작은 모델·양자화로 성능을 검증한 뒤 점진적으로 확장하세요.</p>
          </article>
        </div>
      </div>
    </section>

    <section id="cases" class="container-max mx-auto px-6 py-10 sm:py-14 lg:py-16">
      <div class="glass rounded-2xl p-6 sm:p-10">
        <div class="text-sm uppercase tracking-[0.35em] text-muted mb-4">섹션 7</div>
        <h2 class="text-2xl sm:text-3xl font-bold mb-6">실제 적용 사례</h2>
        <div class="grid lg:grid-cols-2 gap-8 items-start">
          <div class="space-y-5 text-soft leading-7">
            <p><strong class="text-fg">로컬 RAG 구축</strong> — 문서 임베딩 → Milvus 인덱싱 → 쿼리 시 k-NN으로 관련 문서를 검색해 Llama 3.1에 컨텍스트로 제공하는 흐름으로 운영합니다. 사내 매뉴얼·계약서를 임베딩해 직원용 Q&amp;A 인터페이스를 구축하면 검색 정확도가 향상되고 응답 시간이 단축됩니다.</p>
            <p><strong class="text-fg">코드 리뷰 자동화 PoC</strong> — 코드 스니펫을 청크화해 임베딩·유사도 검색 후 LLM으로 리뷰 초안을 생성합니다. 반복 검토 시간을 줄이고 리뷰 품질의 일관성을 높였으며, 외부 서비스 사용 없이 데이터 유출 위험을 최소화했습니다.</p>
            <p><strong class="text-fg">성공 요인</strong> — 청크화 품질과 전처리, 모델 크기 적정화, 벡터 DB·캐시 튜닝, 사용자 피드백 루프가 핵심입니다. 8B급 경량 모델로 Windows 10 + Ollama에서 빠른 PoC를 수행한 뒤, 지표(정확도·응답 시간·만족도)에 따라 하드웨어와 모델을 단계적으로 확장하세요.</p>
          </div>
          <div class="glass rounded-2xl overflow-hidden">
            <img src="https://milvus.io/docs/v2.2.x/assets/architecture_diagram.png" alt="Milvus 벡터 데이터베이스 아키텍처" class="w-full h-full object-cover" />
          </div>
        </div>
      </div>
    </section>

    <section id="resources" class="container-max mx-auto px-6 py-10 sm:py-14 lg:py-16">
      <div class="glass rounded-2xl p-6 sm:p-10 text-center space-y-4">
        <h2 class="text-2xl sm:text-3xl font-bold">다음 단계</h2>
        <p class="text-soft leading-7">PoC를 끝냈다면, 모니터링 지표와 보안 요건을 정의하고 운영 자동화(배치 재임베딩, 지식 베이스 동기화)를 설계하세요. 필요한 경우 저희 컨설턴트가 Windows 10 기반의 로컬 AI 파이프라인 구축을 도와드립니다.</p>
        <a href="mailto:younseok.oh@gmail.com" class="magnetic inline-flex items-center gap-2 rounded-full px-6 py-3 text-sm font-semibold text-black bg-white hover:opacity-90 transition">전문 컨설턴트에게 문의하기</a>
      </div>
    </section>
  </main>

  <footer class="container-max mx-auto px-6 pb-12 text-center text-sm text-muted">
    &copy; 2025 OO Consulting · Windows 10 Ollama &amp; Llama 3.1 Guide.
  </footer>

  <button id="backToTop" aria-label="맨 위로" class="fixed bottom-5 right-5 rounded-full px-4 py-3 text-sm font-semibold text-black bg-white shadow-lg border border-white/20 opacity-0 pointer-events-none transition">Top</button>

  <script>
    const clamp = (n, min, max) => Math.max(min, Math.min(max, n));
    const getCSSVar = (name) => getComputedStyle(document.documentElement).getPropertyValue(name).trim();
    const hexToRgb = (hex) => {
      const h = hex.replace('#','').trim();
      if (/^[0-9a-fA-F]{3}$/.test(h)) {
        const r = parseInt(h[0]+h[0],16), g = parseInt(h[1]+h[1],16), b = parseInt(h[2]+h[2],16); return {r,g,b};
      }
      if (/^[0-9a-fA-F]{6}$/.test(h)) {
        return { r: parseInt(h.slice(0,2),16), g: parseInt(h.slice(2,4),16), b: parseInt(h.slice(4,6),16) };
      }
      return { r: 88, g: 196, b: 255 };
    };

    (function(){
      const btn = document.getElementById('themeToggle');
      window.starBoost = false;
      function ensureNight(){ document.documentElement.setAttribute('data-theme', 'dark'); try { localStorage.setItem('theme', 'dark'); } catch(e) {} }
      btn.addEventListener('click', () => {
        ensureNight();
        window.starBoost = !window.starBoost;
        btn.classList.toggle('active', window.starBoost);
        document.dispatchEvent(new CustomEvent('starboost', { detail: window.starBoost }));
      });
    })();

    (function() {
      const items = Array.from(document.querySelectorAll('.type-cycle .cycle-item'));
      if (!items.length) return;
      let i = 0; setInterval(() => { items.forEach(el => el.classList.add('hidden')); i = (i+1) % items.length; items[i].classList.remove('hidden'); }, 2200);
    })();

    (function(){
      const cursor = document.querySelector('.cursor');
      let x = 0, y = 0, tx = 0, ty = 0;
      function raf(){ x += (tx - x) * 0.18; y += (ty - y) * 0.18; cursor.style.transform = `translate(${x}px, ${y}px)`; requestAnimationFrame(raf); }
      window.addEventListener('pointermove', e => { tx = e.clientX; ty = e.clientY; }, { passive: true });
      raf();
      for (const m of document.querySelectorAll('.magnetic')){
        const strength = 18;
        m.addEventListener('pointermove', e => { const r = m.getBoundingClientRect(); const mx = e.clientX - r.left - r.width/2; const my = e.clientY - r.top - r.height/2; m.style.transform = `translate(${mx/strength}px, ${my/strength}px)`; cursor.classList.add('-lg'); });
        m.addEventListener('pointerleave', () => { m.style.transform = ''; cursor.classList.remove('-lg'); });
      }
    })();

    (function(){
      const cards = document.querySelectorAll('.tilt-card');
      cards.forEach(card => {
        const max = 8;
        card.addEventListener('pointermove', e => { const r = card.getBoundingClientRect(); const px = (e.clientX - r.left) / r.width; const py = (e.clientY - r.top) / r.height; const rx = (py - .5) * -max; const ry = (px - .5) * max; card.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg)`; card.style.setProperty('--mx', `${px*100}%`); card.style.setProperty('--my', `${py*100}%`); });
        card.addEventListener('pointerleave', () => { card.style.transform = ''; });
      });
    })();

    (function(){
      const bar = document.querySelector('.progress');
      const btn = document.getElementById('backToTop');
      function onScroll(){ const s = window.scrollY; const h = document.body.scrollHeight - innerHeight; const p = clamp(h > 0 ? s/h : 0, 0, 1); bar.style.width = `${p*100}%`; if (s > innerHeight * 0.6) { btn.style.opacity = '1'; btn.style.pointerEvents = 'auto'; } else { btn.style.opacity = '0'; btn.style.pointerEvents = 'none'; } }
      window.addEventListener('scroll', onScroll, { passive: true }); onScroll();
      btn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
    })();

    window.addEventListener('load', () => {
      if (!window.gsap) return; const { gsap } = window; if (window.ScrollTrigger) gsap.registerPlugin(ScrollTrigger);
      gsap.from('header .hero-gradient', { y: 20, autoAlpha: 0, duration: 0.8, ease: 'power2.out' });
      gsap.utils.toArray('.tilt-card').forEach((el, i) => { gsap.from(el, { y: 30, autoAlpha: 0, duration: 0.7, ease: 'power2.out', delay: i*0.05, scrollTrigger: { trigger: el, start: 'top 85%' } }); });
    });

    document.addEventListener('DOMContentLoaded', () => {
      try {
        const el = document.querySelector('header h1 .block');
        if (!el) return;
        const raw = (el.textContent || '').trim();
        const open = raw.indexOf('(');
        const close = raw.indexOf(')');
        if (open === 0 && close > open) {
          const prefix = raw.slice(0, close + 1);
          const rest = raw.slice(close + 1);
          el.innerHTML = `<span style="font-size:0.5em; vertical-align:baseline;">${prefix}</span><span class="ml-1 align-baseline">${rest}</span>`;
        }
      } catch(e) {}
    });
  </script>
</body>
</html>
