<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚´ë¶€ë§ RAG ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ íƒìƒ‰ê¸°</title>
    <link href="compact.css" rel="stylesheet" media="screen">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Soothing Neutrals -->
    <!-- Application Structure Plan: ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë³µì¡í•œ RAG ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©ìê°€ ë‹¨ê³„ë³„ë¡œ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì¤‘ì•™ì—ëŠ” ì¸í„°ë™í‹°ë¸Œ ë‹¤ì´ì–´ê·¸ë¨ì„ ë°°ì¹˜í•˜ê³ , ì¢Œì¸¡ì—ëŠ” ë„¤ë¹„ê²Œì´ì…˜, ìš°ì¸¡ì—ëŠ” ìƒì„¸ ì •ë³´ íŒ¨ë„ì„ ë‘ëŠ” 3ë‹¨ êµ¬ì¡°ë¥¼ ì±„íƒí–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ë‹¤ì´ì–´ê·¸ë¨ì˜ ê° ìš”ì†Œë¥¼ ì§ì ‘ í´ë¦­í•˜ì—¬ í•´ë‹¹ êµ¬ì„± ìš”ì†Œì˜ ì—­í• ê³¼ ê¸°ìˆ  ìŠ¤íƒì„ ì¦‰ì‹œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, 'íë¦„ ì‹œë®¬ë ˆì´ì…˜' ê¸°ëŠ¥ì„ í†µí•´ ìš”ì²­ë¶€í„° ì‘ë‹µê¹Œì§€ ë°ì´í„°ì˜ ì „ì²´ ì´ë™ ê²½ë¡œë¥¼ ì‹œê°ì ìœ¼ë¡œ ì¶”ì í•  ìˆ˜ ìˆì–´, ì •ì ì¸ ë‹¤ì´ì–´ê·¸ë¨ë³´ë‹¤ í›¨ì”¬ ê¹Šì€ ì´í•´ë¥¼ ë•ìŠµë‹ˆë‹¤. ì´ êµ¬ì¡°ëŠ” ì •ë³´ë¥¼ íƒìƒ‰í•˜ê³  í•™ìŠµí•˜ëŠ” ê³¼ì •ì„ ëŠ¥ë™ì ìœ¼ë¡œ ë§Œë“¤ì–´ ì‹œìŠ¤í…œ ì „ì²´ì— ëŒ€í•œ ì§ê´€ì ì¸ ì •ì‹  ëª¨ë¸ì„ êµ¬ì¶•í•˜ëŠ” ë° ìµœì í™”ë˜ì—ˆìŠµë‹ˆë‹¤. -->
    <!-- Visualization & Content Choices: Report Info: ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ìˆœì„œë„ -> Goal: ì•„í‚¤í…ì²˜ì˜ ê° êµ¬ì„± ìš”ì†Œì™€ ì „ì²´ ë°ì´í„° íë¦„ì„ ì‰½ê²Œ ì´í•´í•˜ë„ë¡ ì§€ì› -> Viz/Presentation Method: Tailwind CSSë¥¼ ì´ìš©í•œ ë°˜ì‘í˜• HTML ë‹¤ì´ì–´ê·¸ë¨, í´ë¦­ ì‹œ ë™ì ìœ¼ë¡œ ë³€ê²½ë˜ëŠ” ì •ë³´ íŒ¨ë„ -> Interaction: ê° êµ¬ì„± ìš”ì†Œ í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ í‘œì‹œ, ë²„íŠ¼ í´ë¦­ ì‹œ ë°ì´í„° íë¦„ ì• ë‹ˆë©”ì´ì…˜ ì‹œë®¬ë ˆì´ì…˜ -> Justification: ì •ì ì¸ ìˆœì„œë„ë¥¼ ë™ì ì´ê³  íƒìƒ‰ ê°€ëŠ¥í•œ ê²½í—˜ìœ¼ë¡œ ì „í™˜í•˜ì—¬ ë³µì¡í•œ ì‹œìŠ¤í…œì˜ ì´í•´ë„ë¥¼ ë†’ì„. -> Library/Method: Vanilla JavaScript, Tailwind CSS. ë‹¤ì´ì–´ê·¸ë¨ì€ ìˆœìˆ˜ HTML/CSSë¡œ êµ¬í˜„. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body>
  <canvas id="bg-stars"></canvas>

  <div id="controls" style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
    <button id="starBoostBtn" style="background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2); color: #e5e7eb; padding: 8px 12px; border-radius: 5px; cursor: pointer; text-shadow: 0 1px 2px rgba(0,0,0,0.5);">ë³„ ê°•í™”</button>
  </div>

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">ë‚´ë¶€ë§ RAG ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ íƒìƒ‰ê¸°</h1>
            <p class="mt-2 text-lg text-gray-600">ë‚´ì¼ì±„ì›€ê³µì œ AI í—¬í¼ ì‹œìŠ¤í…œì˜ êµ¬ì„± ìš”ì†Œë¥¼ í´ë¦­í•˜ì—¬ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ë°ì´í„° íë¦„ì„ ì‹œë®¬ë ˆì´ì…˜ í•´ë³´ì„¸ìš”.</p>
        </header>

        <div class="flex justify-center mb-8">
            <button id="simulate-btn" class="bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors shadow-md">
                ë°ì´í„° íë¦„ ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘
            </button>
        </div>

        <main class="space-y-8 lg:grid lg:grid-cols-12 lg:gap-8">
            <!-- Mobile: order components for better flow -->
            <aside class="order-1 lg:col-span-3 lg:order-1 bg-white p-4 rounded-xl shadow-lg">
                <h2 class="text-lg sm:text-xl font-bold mb-4 border-b pb-2">êµ¬ì„± ìš”ì†Œ</h2>
                <nav id="component-nav" class="space-y-2 text-sm">
                    <!-- Navigation items will be injected by JS -->
                </nav>
            </aside>

            <div class="order-2 lg:col-span-6 lg:order-2 diagram-container bg-white p-4 rounded-xl shadow-lg">
                <div id="diagram-root" class="space-y-8">
                    <!-- Client Application Section -->
                    <section class="client-section p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50">
                        <h3 class="text-center font-semibold text-gray-600 mb-4 text-base sm:text-lg">Client Application (ì „ìì •ë¶€í”„ë ˆì„ì›Œí¬ / WebLogic)</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div id="A" data-id="A" class="component client-app border-2 p-3 rounded-lg text-center min-h-[3rem] flex items-center justify-center">Web App (ì‚¬ìš©ì)</div>
                            <div id="C" data-id="C" class="component dev-ops border-2 p-3 rounded-lg text-center min-h-[3rem] flex items-center justify-center">ê°œë°œ ìš´ì˜ì (ì†ŒìŠ¤ ì§ˆì˜)</div>
                        </div>
                    </section>

                    <!-- RAG System Section -->
                    <section class="rag-section p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50">
                        <h3 class="text-center font-semibold text-gray-600 mb-4 text-base sm:text-lg">RAG System (Python í™˜ê²½)</h3>
                        <div class="grid grid-cols-1 gap-3">
                            <div id="B" data-id="B" class="component gateway border-2 p-3 rounded-lg text-center min-h-[3rem] flex items-center justify-center">FastAPI RAG Gateway</div>
                            <div id="D" data-id="D" class="component cache border-2 p-3 rounded-lg text-center min-h-[3rem] flex items-center justify-center">Redis Cache</div>
                            <div id="E" data-id="E" class="component orchestrator border-2 p-3 rounded-lg text-center min-h-[3rem] flex items-center justify-center">LlamaIndex Orchestrator</div>
                        </div>

                        <!-- Core RAG Pipeline Sub-section -->
                        <div class="mt-6 p-3 border border-gray-300 rounded-lg bg-white">
                            <h4 class="text-center font-semibold text-gray-500 mb-3 text-sm">Core RAG Pipeline</h4>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                <div id="F" data-id="F" class="component vector-store border-2 p-3 rounded-lg text-center min-h-[3rem] flex items-center justify-center">ChromaDB Vector Store</div>
                                <div id="G" data-id="G" class="component llm border-2 p-3 rounded-lg text-center min-h-[3rem] flex items-center justify-center">Ollama - Llama 3.1</div>
                            </div>
                        </div>
                    </section>

                    <!-- Data Management Section -->
                    <section class="data-section p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50">
                        <h3 class="text-center font-semibold text-gray-600 mb-4 text-base sm:text-lg">Data Management & Preprocessing</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="space-y-3">
                                <div id="J" data-id="J" class="component border bg-gray-100 border-gray-300 p-3 rounded-lg text-center min-h-[3rem] flex items-center justify-center">ì›ë³¸ ë°ì´í„° ë¦¬í¬ì§€í† ë¦¬</div>
                                <div id="H1" data-id="H1" class="component border bg-gray-100 border-gray-300 p-3 rounded-lg text-center min-h-[3rem] flex items-center justify-center">ë§¤ë‰´ì–¼/ì½”ë“œ ì›ë³¸</div>
                            </div>
                            <div class="space-y-3">
                                <div class="p-3 border border-gray-300 rounded-lg bg-white">
                                    <h4 class="text-center font-semibold text-gray-500 mb-3 text-sm">Embedding Process (Celery)</h4>
                                    <div class="space-y-2">
                                        <div id="H2" data-id="H2" class="component parser border-2 p-3 rounded-lg text-center min-h-[3rem] flex items-center justify-center text-xs">Tree-Sitter/Parser</div>
                                        <div id="I" data-id="I" class="component embedding border-2 p-3 rounded-lg text-center min-h-[3rem] flex items-center justify-center text-xs">KorBERT Embedding</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>

            <!-- Information Panel -->
            <aside class="order-3 lg:col-span-3 lg:order-3">
                <div id="info-panel" class="bg-white p-4 sm:p-6 rounded-xl shadow-lg lg:sticky lg:top-8">
                    <h2 id="info-title" class="text-xl sm:text-2xl font-bold mb-3">ì•„í‚¤í…ì²˜ ê°œìš”</h2>
                    <div id="info-content" class="text-gray-700 space-y-3">
                        <p class="text-sm sm:text-base">ì´ ë‹¤ì´ì–´ê·¸ë¨ì€ ë‚´ì¼ì±„ì›€ê³µì œ AI í—¬í¼ ì‹œìŠ¤í…œì˜ ì „ì²´ êµ¬ì¡°ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. ê° êµ¬ì„± ìš”ì†ŒëŠ” íŠ¹ì • ì—­í• ì„ ìˆ˜í–‰í•˜ë©° ìœ ê¸°ì ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ì‚¬ìš©ì ë° ê°œë°œìì˜ ì§ˆë¬¸ì— ëŒ€í•œ ì •í™•í•œ ë‹µë³€ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>
                        <p class="text-sm sm:text-base">ì™¼ìª½ ëª©ë¡ ë˜ëŠ” ë‹¤ì´ì–´ê·¸ë¨ì˜ ê° ë¶€ë¶„ì„ í´ë¦­í•˜ì—¬ ë” ìì„¸í•œ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
                        <div class="mt-4 p-3 sm:p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg">
                            <h4 class="font-semibold text-blue-800 text-sm">ğŸ’¡ ì‚¬ìš© íŒ</h4>
                            <p class="text-blue-700 text-xs sm:text-sm mt-1">'ë°ì´í„° íë¦„ ì‹œë®¬ë ˆì´ì…˜' ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì‚¬ìš©ì ìš”ì²­ì´ ì‹œìŠ¤í…œ ë‚´ì—ì„œ ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€ ì‹œê°ì ìœ¼ë¡œ ë”°ë¼ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </div>
            </aside>
        </main>
    </div>

    <script>
        const componentData = {
            'A': { title: 'Web App Interface (ì‚¬ìš©ì)', role: 'ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤', tech: 'ì „ìì •ë¶€í”„ë ˆì„ì›Œí¬, JSP/Servlet, HTML/CSS/JS', description: 'ì¼ë°˜ ì‚¬ìš©ìê°€ ë‚´ì¼ì±„ì›€ê³µì œ ì—…ë¬´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì›¹ í™”ë©´ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ íŠ¹ì • ë©”ë‰´ë‚˜ ì…ë ¥ í•„ë“œì—ì„œ ë„ì›€ì„ ìš”ì²­í•˜ë©´, í•´ë‹¹ ë©”ë‰´ IDì™€ ì§ˆë¬¸ì„ RAG ì‹œìŠ¤í…œìœ¼ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.' },
            'C': { title: 'ê°œë°œ ìš´ì˜ì', role: 'ê¸°ìˆ  ì§ˆì˜ ì¸í„°í˜ì´ìŠ¤', tech: 'ë‚´ë¶€ ê´€ë¦¬ ì‹œìŠ¤í…œ, IDE ì—°ë™', description: 'ê°œë°œìë‚˜ ìš´ì˜ìê°€ ì‹œìŠ¤í…œ ìœ ì§€ë³´ìˆ˜ ì¤‘ ë°œìƒí•˜ëŠ” ê¸°ìˆ ì ì¸ ì§ˆë¬¸ì´ë‚˜ ì†ŒìŠ¤ì½”ë“œ ê´€ë ¨ ë¬¸ì˜ë¥¼ í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤. ë¶„ì„ì´ í•„ìš”í•œ íŒŒì¼ IDë‚˜ ì½”ë“œ ì¡°ê°ì„ RAG ì‹œìŠ¤í…œìœ¼ë¡œ ë³´ëƒ…ë‹ˆë‹¤.' },
            'B': { title: 'FastAPI RAG Gateway', role: 'API ê²Œì´íŠ¸ì›¨ì´', tech: 'Python, FastAPI', description: 'JAVA ê¸°ë°˜ì˜ í´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ Python ê¸°ë°˜ RAG ì‹œìŠ¤í…œì„ ì—°ê²°í•˜ëŠ” ê´€ë¬¸ì…ë‹ˆë‹¤. ëª¨ë“  ìš”ì²­ì„ ë°›ì•„ ì²˜ë¦¬í•˜ê³ , ìºì‹œë¥¼ í™•ì¸í•˜ë©°, ìµœì¢… ê²°ê³¼ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤.' },
            'D': { title: 'Redis Cache', role: 'ìºì‹± ì—”ì§„', tech: 'Redis', description: 'ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ê³¼ ê·¸ì— ëŒ€í•œ LLMì˜ ë‹µë³€ì„ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ëŠ” ë‹¨ê¸° ê¸°ì–µ ì¥ì¹˜ì…ë‹ˆë‹¤. ë™ì¼í•œ ì§ˆë¬¸ì´ ë°˜ë³µë  ê²½ìš°, LLMì„ í˜¸ì¶œí•˜ì§€ ì•Šê³  ìºì‹œì—ì„œ ì¦‰ì‹œ ë‹µë³€ì„ ì œê³µí•˜ì—¬ ì‘ë‹µ ì†ë„ë¥¼ ê·¹ëŒ€í™”í•˜ê³  ì„œë²„ ë¶€í•˜ë¥¼ ì¤„ì…ë‹ˆë‹¤.' },
            'E': { title: 'LlamaIndex Orchestrator', role: 'RAG íŒŒì´í”„ë¼ì¸ ê´€ë¦¬', tech: 'Python, LlamaIndex', description: 'RAGì˜ ì „ì²´ íë¦„ì„ ì§€íœ˜í•˜ëŠ” í•µì‹¬ ì»¨íŠ¸ë¡¤ëŸ¬ì…ë‹ˆë‹¤. ì‚¬ìš©ì ì§ˆë¬¸ì„ ë°›ì•„ ë²¡í„° DBì—ì„œ ê´€ë ¨ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•˜ê³ , ì´ ì •ë³´ë¥¼ LLMì— ì „ë‹¬í•˜ì—¬ ìµœì¢… ë‹µë³€ì„ ìƒì„±í•˜ë„ë¡ ìš”ì²­í•˜ëŠ” ëª¨ë“  ê³¼ì •ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.' },
            'F': { title: 'ChromaDB Vector Store', role: 'ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤', tech: 'ChromaDB', description: 'ë§¤ë‰´ì–¼ê³¼ ì†ŒìŠ¤ì½”ë“œê°€ ë²¡í„° í˜•íƒœë¡œ ë³€í™˜ë˜ì–´ ì €ì¥ë˜ëŠ” AIì˜ ì¥ê¸° ê¸°ì–µ ì¥ì¹˜ì…ë‹ˆë‹¤. ì‚¬ìš©ì ì§ˆë¬¸ê³¼ ì˜ë¯¸ì ìœ¼ë¡œ ê°€ì¥ ìœ ì‚¬í•œ ì •ë³´ë¥¼ ì´ˆê³ ì†ìœ¼ë¡œ ê²€ìƒ‰í•˜ì—¬ LlamaIndexì— ì œê³µí•©ë‹ˆë‹¤.' },
            'G': { title: 'Ollama - Llama 3.1', role: 'ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ (LLM)', tech: 'Ollama, Llama 3.1', description: 'RAG ì‹œìŠ¤í…œì˜ ë‘ë‡Œ ì—­í• ì„ í•©ë‹ˆë‹¤. ChromaDBì—ì„œ ê²€ìƒ‰ëœ ê´€ë ¨ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ, ì‚¬ìš©ìê°€ ì´í•´í•˜ê¸° ì‰¬ìš´ ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ í˜•íƒœì˜ ìµœì¢… ë‹µë³€ì„ ìƒì„±í•©ë‹ˆë‹¤.' },
            'H1': { title: 'ë§¤ë‰´ì–¼/ì½”ë“œ ì›ë³¸', role: 'ì›ë³¸ ë°ì´í„°', tech: 'PDF, Word, Java, SQL íŒŒì¼', description: 'AIê°€ í•™ìŠµí•˜ê³  ì°¸ì¡°í•˜ëŠ” ëª¨ë“  ì§€ì‹ì˜ ì›ì²œì…ë‹ˆë‹¤. ì‚¬ìš©ì ë° ê´€ë¦¬ì ë§¤ë‰´ì–¼, ì‹œìŠ¤í…œì˜ ì „ì²´ ì†ŒìŠ¤ì½”ë“œ, DB ìŠ¤í‚¤ë§ˆ ë“±ì´ í¬í•¨ë©ë‹ˆë‹¤.' },
            'J': { title: 'ì›ë³¸ ë°ì´í„° ë¦¬í¬ì§€í† ë¦¬', role: 'ë°ì´í„° ë²„ì „ ê´€ë¦¬', tech: 'DVC (Data Version Control), Git', description: 'ë§¤ë‰´ì–¼ì´ë‚˜ ì†ŒìŠ¤ì½”ë“œì˜ ë³€ê²½ ì´ë ¥ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. AI ëª¨ë¸ì˜ ì„±ëŠ¥ì´ ë‹¬ë¼ì¡Œì„ ë•Œ, ì–´ë–¤ ë²„ì „ì˜ ë°ì´í„°ë¡œ í•™ìŠµí–ˆëŠ”ì§€ ì¶”ì í•˜ê³  í•„ìš”ì‹œ ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.' },
            'H2': { title: 'Tree-Sitter/Parser', role: 'ì†ŒìŠ¤ì½”ë“œ êµ¬ì¡° ë¶„ì„', tech: 'Tree-Sitter', description: 'Java, SQLê³¼ ê°™ì€ ì†ŒìŠ¤ì½”ë“œë¥¼ ë‹¨ìˆœ í…ìŠ¤íŠ¸ê°€ ì•„ë‹Œ ë¬¸ë²•ì  êµ¬ì¡°(í´ë˜ìŠ¤, ë©”ì„œë“œ ë‹¨ìœ„)ë¡œ ë¶„ì„í•˜ê³  ë¶„í• í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì½”ë“œ ê´€ë ¨ ì§ˆë¬¸ì˜ ì •í™•ë„ë¥¼ ë†’ì…ë‹ˆë‹¤.' },
            'I': { title: 'KorBERT Embedding Model', role: 'ì„ë² ë”© ëª¨ë¸', tech: 'KorBERT, PyTorch', description: 'í•œêµ­ì–´ í…ìŠ¤íŠ¸(ë§¤ë‰´ì–¼, ì½”ë“œ ì£¼ì„ ë“±)ì˜ ì˜ë¯¸ë¥¼ ì»´í“¨í„°ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ìˆ«ì ë²¡í„°ë¡œ ë³€í™˜í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. RAG ì‹œìŠ¤í…œì˜ ê²€ìƒ‰ ì •í™•ë„ë¥¼ ê²°ì •í•˜ëŠ” í•µì‹¬ ìš”ì†Œì…ë‹ˆë‹¤.' }
        };

        const flowSequence = ['A', 'B', 'D', 'E', 'F', 'G'];
        
        document.addEventListener('DOMContentLoaded', () => {
            const nav = document.getElementById('component-nav');
            const components = document.querySelectorAll('.component');
            const infoTitle = document.getElementById('info-title');
            const infoContent = document.getElementById('info-content');
            const simulateBtn = document.getElementById('simulate-btn');

            // Populate navigation
            Object.keys(componentData).forEach(id => {
                const data = componentData[id];
                const navItem = document.createElement('a');
                navItem.href = '#';
                navItem.className = 'block p-2 rounded-md hover:bg-gray-100 transition-colors';
                navItem.textContent = data.title;
                navItem.dataset.id = id;
                nav.appendChild(navItem);
            });

            const updateInfoPanel = (id) => {
                const data = componentData[id];
                if (!data) return;

                infoTitle.textContent = data.title;
                infoContent.innerHTML = `
                    <p><strong class="font-semibold text-gray-800">ì—­í• :</strong> ${data.role}</p>
                    <p><strong class="font-semibold text-gray-800">ì£¼ìš” ê¸°ìˆ :</strong> ${data.tech}</p>
                    <p class="mt-4 pt-4 border-t">${data.description}</p>
                `;
                
                components.forEach(comp => {
                    comp.classList.toggle('selected', comp.dataset.id === id);
                });
            };

            const selectComponent = (id) => {
                updateInfoPanel(id);
                document.getElementById('info-panel').scrollIntoView({ behavior: 'smooth', block: 'start' });
            };

            // Click handlers for components
            document.getElementById('diagram-root').addEventListener('click', (e) => {
                const component = e.target.closest('.component');
                if (component && component.dataset.id) {
                    selectComponent(component.dataset.id);
                }
            });

            nav.addEventListener('click', (e) => {
                e.preventDefault();
                const navItem = e.target.closest('a');
                if (navItem && navItem.dataset.id) {
                    selectComponent(navItem.dataset.id);
                }
            });

            // Keyboard navigation support
            nav.addEventListener('keydown', (e) => {
                const navItems = Array.from(nav.querySelectorAll('a[data-id]'));
                const currentIndex = navItems.findIndex(item => item === document.activeElement);

                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    if (document.activeElement.dataset.id) {
                        selectComponent(document.activeElement.dataset.id);
                    }
                } else if (e.key === 'ArrowDown' && currentIndex < navItems.length - 1) {
                    e.preventDefault();
                    navItems[currentIndex + 1].focus();
                } else if (e.key === 'ArrowUp' && currentIndex > 0) {
                    e.preventDefault();
                    navItems[currentIndex - 1].focus();
                }
            });

            // Add ARIA attributes to components
            components.forEach(component => {
                component.setAttribute('role', 'button');
                component.setAttribute('tabindex', '0');
                component.setAttribute('aria-label', componentData[component.dataset.id]?.title || '');
            });

            // Focus management
            components.forEach(component => {
                component.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        selectComponent(component.dataset.id);
                    }
                });
            });

            let isSimulating = false;
            let timeoutId;

            simulateBtn.addEventListener('click', () => {
                if (isSimulating) {
                    clearTimeout(timeoutId);
                    isSimulating = false;
                    simulateBtn.textContent = 'ë°ì´í„° íë¦„ ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘';
                    simulateBtn.classList.remove('bg-red-600', 'hover:bg-red-700');
                    simulateBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                    components.forEach(c => c.classList.remove('highlight'));
                    return;
                }

                isSimulating = true;
                simulateBtn.textContent = 'ì‹œë®¬ë ˆì´ì…˜ ì¤‘ì§€';
                simulateBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                simulateBtn.classList.add('bg-red-600', 'hover:bg-red-700');
                
                let step = 0;
                const runStep = () => {
                    components.forEach(c => c.classList.remove('highlight'));
                    
                    if (step >= flowSequence.length) {
                        isSimulating = false;
                        simulateBtn.click(); // Reset button
                        return;
                    }

                    const currentId = flowSequence[step];
                    const currentElement = document.getElementById(currentId);
                    if (currentElement) {
                        currentElement.classList.add('highlight');
                        updateInfoPanel(currentId);
                    }
                    
                    step++;
                    timeoutId = setTimeout(runStep, 1500);
                };

                runStep();
            });

            // Star boost button
            const starBoostBtn = document.getElementById('starBoostBtn');
            if (starBoostBtn) {
                let boosted = false;
                starBoostBtn.addEventListener('click', () => {
                    boosted = !boosted;
                    starBoostBtn.textContent = boosted ? 'ë³„ ì •ìƒí™”' : 'ë³„ ê°•í™”';
                    document.dispatchEvent(new CustomEvent('starboost', { detail: boosted }));
                });
            }

        });
    </script>
    <script src="bg-stars.js"></script>
</body>
</html>
